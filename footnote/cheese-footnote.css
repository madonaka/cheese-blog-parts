/* ▼ 1. 주석(Footnote) 기본 스타일 */
    .cheese-footnote-ref {
      font-size: 0.9em; vertical-align: super; cursor: pointer;
      color: inherit; scroll-margin-top: 100px; text-decoration: none;
    }
    .cheese-footnotes {
      margin-top: 2rem; font-size: 1.0em; line-height: 1.6;
      list-style: none; padding-left: 0; border-top: 1px solid #eee; padding-top: 20px;
    }
    .cheese-footnotes li { margin: 6px 0; }
    .cheese-footnotes li::before { content: ""; display: none; }
    
    /* 기존 ol 스타일 초기화 */
    .post-body ol.cheese-footnotes { list-style: none !important; padding-left: 0 !important; margin-left: 0 !important; }
    .post-body ol.cheese-footnotes > li::before { content: '' !important; display: none !important; }

    /* ▼ 2. 나무위키 스타일 링크 (외부/내부) */
    
    /* [외부 링크] 초록색 + 아이콘 */
    a.namu-external {
      color: #00a495 !important; /* 나무위키 초록색 */
      text-decoration: none;
      word-break: break-all;
    }
    a.namu-external::after {
      content: "";
      display: inline-block;
      width: 12px; height: 12px; margin-left: 2px;
      /* 외부 링크 아이콘 (SVG) */
      background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='%2300a495' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3E%3Cpath d='M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6'%3E%3C/path%3E%3Cpolyline points='15 3 21 3 21 9'%3E%3C/polyline%3E%3Cline x1='10' y1='14' x2='21' y2='3'%3E%3C/line%3E%3C/svg%3E");
      background-size: contain;
      background-repeat: no-repeat;
      vertical-align: middle;
    }
    a.namu-external:hover { text-decoration: underline; }

    /* [내부 링크] 파란색 + 툴팁 대상 */
    a.namu-internal {
      color: #0275d8 !important; /* 나무위키 파란색 */
      text-decoration: none;
    }
    a.namu-internal:hover {
      text-decoration: underline;
    }

    /* ▼ 3. 툴팁 박스 (PC용) */
    .cheese-footnote-tooltip {
      position: absolute; max-width: 320px;
      font-size: 13px; line-height: 1.5;
      background: #fff; color: #333;
      border: 1px solid #ccc; border-radius: 4px;
      box-shadow: 0 4px 15px rgba(0,0,0,0.15);
      padding: 10px; z-index: 10000;
      opacity: 0; visibility: hidden;
      transform: translateY(5px);
      transition: opacity 0.2s, transform 0.2s;
      pointer-events: none;
    }
    .cheese-footnote-tooltip.is-open {
      opacity: 1; visibility: visible; transform: translateY(0);
      pointer-events: auto; /* ✅ 추가: 툴팁 위에 올려도 안꺼지고, 툴팁 안 링크 클릭 가능 */
    }
    .cheese-tooltip-title {
        font-weight: bold; margin-bottom: 4px; display: block; color: #0275d8;
    }

    /* ▼ 4. 모바일 모달 */
    .cheese-footnote-modal {
      position: fixed; inset: 0; z-index: 99999; background: rgba(0,0,0,0.5);
      display: flex; justify-content: center; align-items: center;
      padding: 20px; opacity: 0; visibility: hidden; pointer-events: none; transition: 0.2s;
    }
    .cheese-footnote-modal.is-open { opacity: 1; visibility: visible; pointer-events: auto; }
    .cheese-footnote-modal-inner {
      background: #fff; width: 100%; max-width: 400px; max-height: 80vh;
      border-radius: 8px; padding: 20px;
      display: flex; flex-direction: column; font-size: 15px; line-height: 1.6;
    }
    .cheese-footnote-modal-body { flex: 1; overflow-y: auto; margin-bottom: 15px; }
    .cheese-footnote-modal-close {
      width: 100%; padding: 10px; border: none; background: #f1f5f9; border-radius: 6px; cursor: pointer;
    }

/* ▼ 주석 내부 링크 아이콘 표시 (외부 링크 / 내부 링크 구분) ------------------ */

/* 1) 툴팁과 모달 내부의 모든 링크(a)에 공통 아이콘 설정 */
.cheese-footnote-tooltip a,
.cheese-footnote-modal-body a {
  display: inline-block; /* 아이콘과 텍스트 정렬을 위해 */
  text-decoration: none; /* 밑줄 제거 (선택사항) */
  color: #2563eb;        /* 링크 색상 (선택사항) */
}

/* 링크 뒤에 가상요소(::after)로 아이콘 추가 */
.cheese-footnote-tooltip a::after,
.cheese-footnote-modal-body a::after {
  content: "";
  display: inline-block;
  width: 12px;
  height: 12px;
  margin-left: 4px;
  background-size: contain;
  background-repeat: no-repeat;
  vertical-align: middle;
  opacity: 0.6; /* 너무 진하지 않게 */
}

/* 2) 외부 링크 아이콘 (기본값: 새 창 열림 아이콘) */
/* href가 http로 시작하면 외부 링크로 간주 */
.cheese-footnote-tooltip a[href^="http"]::after,
.cheese-footnote-modal-body a[href^="http"]::after {
  background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='currentColor' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3E%3Cpath d='M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6'%3E%3C/path%3E%3Cpolyline points='15 3 21 3 21 9'%3E%3C/polyline%3E%3Cline x1='10' y1='14' x2='21' y2='3'%3E%3C/line%3E%3C/svg%3E");
}

/* 3) 내부 링크 아이콘 (내 블로그 주소 포함) */
/* 만약 href에 내 블로그 도메인이 포함되어 있다면 내부 링크 아이콘으로 덮어씀 */
/* 예: your-blog.tistory.com 부분은 실제 블로그 주소로 변경하세요 */
.cheese-footnote-tooltip a[href*="your-blog.tistory.com"]::after,
.cheese-footnote-modal-body a[href*="your-blog.tistory.com"]::after,
/* 또는 상대 경로( /entry/... )로 시작하는 경우 */
.cheese-footnote-tooltip a[href^="/"]::after,
.cheese-footnote-modal-body a[href^="/"]::after {
  background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='currentColor' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3E%3Cpath d='M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71'%3E%3C/path%3E%3Cpath d='M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71'%3E%3C/path%3E%3C/svg%3E");
}
