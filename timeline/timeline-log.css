  /* =========================================================
     0) Design Tokens (CSS 변수)
     - 한 곳에서 톤/간격 조절 가능
  ========================================================= */
  :root{
    /* base */
    --dl-ink: #111827;
    --dl-ink-65: rgba(17,24,39,0.65);
    --dl-ink-75: rgba(17,24,39,0.75);

    /* surfaces */
    --dl-bg: #ffffff;
    --dl-card: #f9fafb;
    --dl-open: #f3f4f6;

    /* borders/shadows */
    --dl-bd: rgba(15,23,42,0.08);
    --dl-bd-2: rgba(15,23,42,0.10);
    --dl-shadow-1: 0 10px 24px rgba(15,23,42,0.06);
    --dl-shadow-2: 0 8px 18px rgba(15,23,42,0.08);

    /* radius */
    --dl-r-sm: 6px;
    --dl-r-md: 10px;
    --dl-r-lg: 12px;

    /* spacing */
    --dl-gap-1: 8px;
    --dl-gap-2: 10px;
    --dl-pad-1: 10px;
    --dl-pad-2: 12px;

    /* timeline */
    --dl-line-w: 3px;
    --dl-line-off: 6px;
    --dl-line-pad: 14px;
    --dl-dot: 10px;
    --dl-dot-left: -22px;

    /* lane header */
    --dl-lane-top: 34px;          /* 기본(단일 pill) */
    --dl-lane-bar-y: 28px;
    --dl-lane-bar-h: 4px;

    /* font */
    --dl-fs-sm: 0.78em;
    --dl-fs-sub: 0.88em;
    --dl-fs-open: 0.92em;
    --dl-lh-open: 1.6;
  }

  /* =========================================================
     1) 컨테이너 / 타임라인 라인
  ========================================================= */
  .daily-log{
    border-left: var(--dl-line-w) solid var(--dl-ink);
    margin-left: var(--dl-line-off);
    padding-left: var(--dl-line-pad);
  }

  /* =========================================================
     2) 연도 그룹: 동시성(스윔레인)
  ========================================================= */
  .daily-log details.dl-year-group{
    position: relative;
    margin: 12px 0;
    padding: var(--dl-pad-1) var(--dl-pad-2) 12px;
    border-radius: var(--dl-r-lg);
    background: rgba(17,24,39,0.03);
    border: 1px solid var(--dl-bd);
  }

  /* 그룹 시작 도트 (그룹당 1개)
     - 도트 위치가 타임라인 라인과 정확히 맞게 left는 기존 유지
  */
  .daily-log details.dl-year-group::before{
    content:"";
    position:absolute;
    left: var(--dl-dot-left);
    top: 18px;
    width: var(--dl-dot);
    height: var(--dl-dot);
    background: var(--dl-ink);
    border-radius: 50%;
  }

  /* 그룹 브래킷(세로 라인) */
  .daily-log details.dl-year-group::after{
    content:"";
    position:absolute;
    left: -18px;
    top: 18px;
    bottom: 18px;
    width: 2px;
    background: rgba(17,24,39,0.18);
    border-radius: 999px;
  }

  /* 연도 헤더 */
  .daily-log details.dl-year-group > summary.dl-year-head{
    display:flex;
    align-items:baseline;
    gap: var(--dl-gap-2);
    margin-bottom: var(--dl-gap-2);
    padding: 2px 2px 0;
  }
  .daily-log .dl-year{
    font-weight: 900;
    color: var(--dl-ink);
    letter-spacing: -0.2px;
  }
  .daily-log .dl-year-sub{
    font-size: var(--dl-fs-sub);
    color: var(--dl-ink-65);
  }
  /* (제거) data-sync 배지: 우측 ‘동시 × N’ 표시를 사용하지 않음 */

  /* =========================================================
     3) 레인(국가별) 레이아웃
  ========================================================= */
  .daily-log .dl-lanes{
    display:grid;
    grid-template-columns: repeat(3, minmax(0, 1fr));
    gap: var(--dl-gap-2);
  }

  /* ✅ 레인 수가 1~2개인 연도 그룹용(샘플/실사용 모두 가능) */
  .daily-log .dl-lanes.cols-2{ grid-template-columns: repeat(2, minmax(0, 1fr)); }
  .daily-log .dl-lanes.cols-1{ grid-template-columns: 1fr; }

  .daily-log .dl-lane{
    position: relative;
    border-radius: var(--dl-r-lg);
    background: var(--dl-bg);
    border: 1px solid var(--dl-bd);
    padding: var(--dl-lane-top) 10px 10px;
    overflow: hidden;

    /* 레인 색을 변수로 주입해 한 곳에서 관리 */
    --lane-rgb: 17,24,39;      /* fallback */
    --lane-bd-a: 0.22;
    --lane-bar-a: 0.55;
  }
  /* 레인 상단 라벨(국가명) */
  .daily-log .dl-lane::before{
    content: attr(data-country);
    position:absolute;
    left:10px;
    top:10px;
    display:inline-block;
    padding: 4px 10px;
    border-radius: 999px;
    font-size: var(--dl-fs-sm);
    font-weight: 900;
    background: rgba(17,24,39,0.06);
    border: 1px solid rgba(15,23,42,0.10);
    color: var(--dl-ink);
    white-space: nowrap;
  }

  /* 레인 보더 톤 */
  .daily-log .dl-lane{
    border-color: rgba(var(--lane-rgb), var(--lane-bd-a));
  }

  /* 레인별 컬러 매핑 + 기본 정렬(중국사 → 한국사 → 일본사)
     - HTML을 어떤 순서로 렌더링해도 시각적 배치가 고정되게 order로 정렬
  */
  .daily-log .dl-lane[data-country="중국사"]{ order:1; --lane-rgb: 220, 38, 38; }
  .daily-log .dl-lane[data-country="한국사"]{ order:2; --lane-rgb: 37, 99, 235; }
  .daily-log .dl-lane[data-country="일본사"]{ order:3; --lane-rgb: 245, 158, 11; } /* 노랑(amber) */

  /* ✅ 그룹 안에서는 카드들이 타임라인 도트를 또 만들지 않게 */
  .daily-log .dl-lane details::before,
  .daily-log .dl-lane .dl-item::before{
    display:none;
  }

  /* =========================================================
     4) 카드 공통 (details / dl-item)
  ========================================================= */
  .daily-log details,
  .daily-log .dl-item{
    position: relative;
    margin: 10px 0;
    background: var(--dl-card);
    border-radius: var(--dl-r-sm);
    padding: 8px 12px;
    border: 1px solid transparent; /* 타입별 border를 얹을 수 있게 */
  }

  /* 기본 타임라인 도트 */
  .daily-log details::before,
  .daily-log .dl-item::before{
    content:"";
    position:absolute;
    left: var(--dl-dot-left);
    top:14px;
    width: var(--dl-dot);
    height: var(--dl-dot);
    background: var(--dl-ink);
    border-radius:50%;
  }

  /* =========================================================
     5) Summary / 접기
  ========================================================= */
  .daily-log summary{
    cursor:pointer;
    font-weight:600;
    list-style:none;
    outline: none;
  }
  .daily-log summary::-webkit-details-marker{ display:none; }

  /* 키보드 포커스 접근성(터치/키보드 모두) */
  .daily-log details > summary:focus-visible{
    box-shadow: 0 0 0 3px rgba(37,99,235,0.25);
    border-radius: 8px;
  }

  .daily-log .dl-summary{ font-weight:600; }

  /* =========================================================
     6) 펼쳐진 상세 본문
  ========================================================= */
  .daily-log details p{
    margin: 10px 0 0;
    padding: 10px 12px;
    border-radius: var(--dl-r-md);
  }
  .daily-log details[open] p{
    background: var(--dl-open);
    border:1px solid var(--dl-bd);
    font-size: var(--dl-fs-open);
    line-height: var(--dl-lh-open);
    color: var(--dl-ink);
  }
  .daily-log details[open] p > br{ line-height:1.8; }
  .daily-log details[open] p ul,
  .daily-log details[open] p ol{
    margin:8px 0 0;
    padding-left:18px;
  }
  .daily-log details[open] p li{ margin:4px 0; }

  /* =========================================================
     7) 날짜 표시
  ========================================================= */
  .daily-log .date{
    display:inline-block;
    font-weight:700;
    color: var(--dl-ink);
    margin-right:6px;
    text-align:right;
  }
  .daily-log .date:empty{ min-width:0.5em; }
  .daily-log .date:empty::before{ content:"미상"; }

  /* =========================================================
     8) 국내 정당/세력 색상 (점 + 날짜 컬러)
     - 기존 클래스 유지(minju/gukhim/jaemyeong)
  ========================================================= */
  .daily-log details.minju::before,
  .daily-log .dl-item.minju::before{ background:#2563eb; }
  .daily-log details.minju .date,
  .daily-log .dl-item.minju .date{ color:#2563eb; }

  .daily-log details.gukhim::before,
  .daily-log .dl-item.gukhim::before{ background:#ec4899; }
  .daily-log details.gukhim .date,
  .daily-log .dl-item.gukhim .date{ color:#ec4899; }

  .daily-log details.jaemyeong::before,
  .daily-log .dl-item.jaemyeong::before{ background:#50bcdf; }
  .daily-log details.jaemyeong .date,
  .daily-log .dl-item.jaemyeong .date{ color:#50bcdf; }

  /* =========================================================
     9) 배지
  ========================================================= */
  .badge{
    display:inline-block;
    margin-left:6px;
    padding:2px 6px;
    font-size:0.75em;
    font-weight:600;
    color:#fff;
    border-radius:4px;
    vertical-align:middle;
  }
  .badge.important{ background:#dc2626; }
  .badge.economy{ background:#16a34a; }
  .badge.mourning{ background:#111827; color:#ffffff; }
  .badge.country{ background:#ffffff; color:#111827; border:1px solid #d1d5db; }

  .daily-log .badge.count{
    font-weight:900;
    background:#fde68a;
    border:1px solid rgba(15,23,42,0.14);
    color:#111827;
  }
  .daily-log .badges{ display:inline; }

  /* =========================================================
     10) 월/주 details 커스텀 삼각형
     - month/week details만 정확히 타겟팅
  ========================================================= */
  details.month > summary,
  details.week  > summary{
    display:flex;
    align-items:center;
    gap:8px;
    cursor:pointer;
    user-select:none;
    width:100%;
    list-style:none;
  }

  details.month > summary > h2,
  details.week  > summary > h3{
    margin:0;
    display:inline;
    font-size:inherit;
    font-weight:800;
  }

  details.month > summary::-webkit-details-marker,
  details.week  > summary::-webkit-details-marker{ display:none; }
  details.month > summary::marker,
  details.week  > summary::marker{ content:""; }

  details.month > summary::before,
  details.week  > summary::before{
    content:"";
    width:0;
    height:0;
    /* ▶ 모양을 글자 대신 border로 생성 (Blogger 문자 깨짐 방지) */
    border-style: solid;
    border-width: 6px 0 6px 9px;
    border-color: transparent transparent transparent currentColor;
    opacity:.75;
    transform-origin:50% 50%;
    transition:transform .15s ease;
  }
  details.month[open] > summary::before,
  details.week[open]  > summary::before{
    transform:rotate(90deg);
  }

  /* =========================================================
     11) 월/연 요약 포스트잇
  ========================================================= */
  .month-note{
    margin:10px 0 14px;
    padding:12px 14px;
    border-radius: var(--dl-r-md);
    background:#fff7cc;
    border:1px solid rgba(17,24,39,0.10);
    box-shadow: var(--dl-shadow-2);
    position:relative;
  }

  .month-note::before{
    content:"";
    position:absolute;
    top:-8px;
    left:18px;
    width:66px;
    height:18px;
    border-radius:6px;
    background:rgba(255,255,255,0.65);
    border:1px solid rgba(17,24,39,0.08);
    transform:rotate(-2deg);
  }

  .month-note-title{
    font-weight:800;
    color: var(--dl-ink);
    margin-bottom:8px;
  }

  .month-note-tags{
    display:flex;
    flex-wrap:wrap;
    gap:8px;
  }
  .month-note-tags .mtag{
    display:inline-block;
    padding:4px 8px;
    border-radius:999px;
    font-size:0.85em;
    font-weight:700;
    background:rgba(17,24,39,0.08);
    color: var(--dl-ink);
  }
  .month-note-desc{
    margin-top:8px;
    font-size:0.88em;
    color: var(--dl-ink-75);
  }

  .month-note.year-note{
    background:#fbf6ea;
    border:1px solid rgba(17,24,39,0.12);
    box-shadow: 0 8px 18px rgba(15,23,42,0.06);
    border-left:4px solid rgba(17,24,39,0.18);
    padding-left:12px;
  }
  .month-note.year-note::before{
    background:rgba(255,255,255,0.75);
    border:1px solid rgba(17,24,39,0.10);
  }
  .month-note.year-note .mtag{
    background:rgba(17,24,39,0.06);
    color: var(--dl-ink);
  }
  .month-note.year-note .month-note-title{ color: var(--dl-ink); }

  /* =========================================================
     12) 그룹 내부 하위 카드(서브카드)
  ========================================================= */
  .dl-subcards{
    display:flex;
    flex-direction:column;
    gap:10px;
    margin-top:10px;
  }
  .dl-subcard{
    background:rgba(15,23,42,0.04);
    border:1px solid rgba(15,23,42,0.10);
    border-radius: var(--dl-r-lg);
    padding:10px 12px;
  }
  .dl-subcard .sub-title{
    font-size:0.95rem;
    line-height:1.35;
  }
  .dl-subcard .sub-body{
    margin-top:8px;
    font-size:0.92rem;
    color:rgba(15,23,42,0.85);
  }
  .dl-subcard .badges{ margin-left:8px; }

  /* =========================================================
     13) 붉은 박스(강조)
     - 기존 bg-red 유지
  ========================================================= */
  .daily-log details.bg-red{
    background: rgba(239, 68, 68, 0.08) !important;
    border-color: rgba(239, 68, 68, 0.20) !important;
  }
  .daily-log details.bg-red > summary{
    background: rgba(239, 68, 68, 0.05) !important;
  }
  .daily-log details.bg-red > p,
  .daily-log details.bg-red .dl-group,
  .daily-log .dl-subcard.bg-red{
    background: rgba(239, 68, 68, 0.04) !important;
  }

  /* =========================================================
     14) 역사 카테고리 단색 박스(기존 유지)
     - 레인 자체에도 색이 있으므로 alpha만 조절하면 됨
     - 이 블록은 “카드” 기준이므로 레인 보더/바와는 독립
  ========================================================= */
  .daily-log details[data-country="한국사"],
  .daily-log .dl-item[data-country="한국사"]{
    background: rgba(37, 99, 235, 0.06);
    border: 1px solid rgba(37, 99, 235, 0.18);
  }
  .daily-log details[data-country="한국사"]::before,
  .daily-log .dl-item[data-country="한국사"]::before{
    background: rgba(37, 99, 235, 0.95);
  }
  .daily-log details[data-country="한국사"] .date,
  .daily-log .dl-item[data-country="한국사"] .date{
    color: rgba(37, 99, 235, 0.95);
  }

  .daily-log details[data-country="중국사"],
  .daily-log .dl-item[data-country="중국사"]{
    background: rgba(220, 38, 38, 0.06);
    border: 1px solid rgba(220, 38, 38, 0.18);
  }
  .daily-log details[data-country="중국사"]::before,
  .daily-log .dl-item[data-country="중국사"]::before{
    background: rgba(220, 38, 38, 0.95);
  }
  .daily-log details[data-country="중국사"] .date,
  .daily-log .dl-item[data-country="중국사"] .date{
    color: rgba(220, 38, 38, 0.95);
  }

  .daily-log details[data-country="일본사"],
  .daily-log .dl-item[data-country="일본사"]{
    /* 기존 초록 → 노랑(amber) 계열로 변경 */
    background: rgba(245, 158, 11, 0.07);
    border: 1px solid rgba(245, 158, 11, 0.22);
  }
  .daily-log details[data-country="일본사"]::before,
  .daily-log .dl-item[data-country="일본사"]::before{
    background: rgba(245, 158, 11, 0.95);
  }
  .daily-log details[data-country="일본사"] .date,
  .daily-log .dl-item[data-country="일본사"] .date{
    color: rgba(245, 158, 11, 0.95);
  }

  /* =========================================================
     15) 반응형
  ========================================================= */
  @media (max-width: 980px){
    .daily-log .dl-lanes{ grid-template-columns: repeat(2, minmax(0, 1fr)); }
  }

  @media (max-width: 640px){
    .daily-log .dl-lanes{ grid-template-columns: 1fr; }

    .daily-log summary{ display:block; }

    .daily-log .badges{
      display:inline;
      width:auto;
      margin-top:0;
    }

    .daily-log .badge{
      margin-left:6px;
      margin-right:0;
    }

    .daily-log .badge:not(.important):not(.count){
      display:none;
    }

    .month-note{ padding:12px; }
    .month-note::before{ left:12px; }

    .daily-log .dl-subcard{
      font-size: 16px;
      line-height: 1.55;
    }

    .daily-log .dl-subcard h1,
    .daily-log .dl-subcard h2,
    .daily-log .dl-subcard h3,
    .daily-log .dl-subcard h4,
    .daily-log .dl-subcard p,
    .daily-log .dl-subcard li,
    .daily-log .dl-subcard b,
    .daily-log .dl-subcard strong,
    .daily-log .dl-subcard small{
      font-size: inherit;
      line-height: inherit;
    }

    .daily-log .dl-subcard .sub-title{
      font-size: 1.02em;
      font-weight: 800;
    }
    .daily-log .dl-subcard .sub-body{ font-size: 1.00em; }

    .daily-log .dl-subcard .badge{
      font-size: 0.85em;
      padding: 3px 7px;
    }
  }

  /* =========================
     연도 그룹을 details로 접기/펼치기
     - 연도 회색 카드(헤더)를 누르면 해당 연도 내용(3국 레인)이 펼쳐짐
  ========================= */
  .daily-log details.dl-year-group > summary.dl-year-head::-webkit-details-marker{ display:none; }
  .daily-log details.dl-year-group > summary.dl-year-head::marker{ content:""; }

  .daily-log details.dl-year-group > summary.dl-year-head{
    cursor:pointer;
    user-select:none;
  }

  .daily-log details.dl-year-group > summary.dl-year-head::before{
    content:"";
    width:0;
    height:0;
    /* ▶ 모양을 글자 대신 border로 생성 (Blogger 문자 깨짐 방지) */
    border-style: solid;
    border-width: 6px 0 6px 9px;
    border-color: transparent transparent transparent currentColor;
    opacity:.75;
    transform-origin:50% 50%;
    transition:transform .15s ease;
  }

  .daily-log details.dl-year-group[open] > summary.dl-year-head::before{
    transform:rotate(90deg);
  }
